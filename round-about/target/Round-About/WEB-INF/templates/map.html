<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">

    <thymeleaf th:insert="header :: header"/>

    <style type="text/css">
        /* Set the size of the div element that contains the map */
        #map {
            height: 400px;
            /* The height is 400 pixels */
            width: 100%;
            /* The width is the width of the web page */
        }
    </style>

    <script th:inline="javascript">
        // Initialize and add the map
        function initMap() {
            // The map, centered at Porto
            const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 8,
                center: {lat:41.14961, lng:-8.61099},
            });
            // The marker, positioned at Uluru
            const marker = new google.maps.Marker({
                position: {lat:41.14961, lng:-8.61099},
                map: map,
            });

            /*<![CDATA[*/
            var markers = /*[[${roundaboutList}]]*/;
            markers.forEach(function(element){
               const marker2 = new google.maps.Marker({
                   position: {lat: element.coordinates[0], lng: element.coordinates[1]},
                   map: map,
               });
            });
            /*]]>*/
        }
    </script>
    <title>Title</title>
</head>

<body>

<div id="map">

</div>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDbkUWNh0my-T_pNntHzaPCd3rib8zfSrk
      &callback=initMap&libraries=&v=weekly" async></script>
</body>

</html>
